<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapinha</title>
    <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Start Screen -->
    <div id="start-screen" class="screen active">
        <div class="minimal-panel">
            <h1 class="logo"><img src="images/android-chrome-192x192.png" />  Mapinh<span class="highlight">a</span></h1>
            
            <div class="main-actions">
                <button id="play" class="primary-btn huge"><i class="fa-solid fa-location-arrow"></i> Jogar</button>
            </div>
        </div>
    </div>

    <!-- Game UI -->
    <div id="game-ui" class="screen hidden">
        <div id="panorama-map"></div>

        <!-- Upper HUD -->
        <div class="hud-top">
            <div class="hud-pill">
                <span id="current-round">0</span> / <span id="total-rounds">0</span>
            </div>
            <div class="hud-pill points">
                <i class="fa-solid fa-star"></i> <span id="current-score">0</span>
            </div>
            <div class="hud-pill timer">
                <i class="fa-solid fa-clock"></i> <span id="time-left">60</span>s
            </div>
        </div>

        <button id="reset-position" class="icon-btn floating-action" title="Voltar a posição inicial">
            <i class="fa-solid fa-clock-rotate-left"></i>
        </button>

        <!-- Map Module -->
        <div class="map-module-container" id="guess-container">
            <div id="guess-map"></div>
            <button id="expand-guess-map" class="map-toggle"><i class="fa-solid fa-expand"></i></button>
            <button id="guess-btn" class="guess-action-btn">Confirmar</button>
        </div>
    </div>

    <!-- Result Overlay -->
    <div id="round-result-screen" class="screen hidden">
        <div class="result-card">
            <div class="result-header">
                <h2 id="round-message">Muito Perto!</h2>
                <div class="result-points">+<span id="round-points">0</span> pts</div>
            </div>
            <div class="result-details">
                <p>Distância: <span id="round-distance">0 km</span> em <span id="city-name-display">...</span></p>
            </div>
            <button id="next-round-btn" class="primary-btn">Próxima</button>
        </div>
    </div>

    <!-- Final Screen -->
    <div id="final-screen" class="screen hidden">
        <div class="minimal-panel final">
            <h1>Fim de Jogo</h1>
            <div class="final-score-display">
                <span id="final-total-score">0</span> pts
            </div>
            <p id="final-verdict" class="verdict-text"></p>
            <button id="restart-btn" class="primary-btn">Jogar Novamente</button>
        </div>
        <canvas id="fireworks-canvas"></canvas>
    </div>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDoaWmTN2513e5LGxOq--65ekL4PMqjUAs&v=weekly&loading=async"></script>
    <script src="js/listeners.js" type="module"></script>
</body>
</html>
